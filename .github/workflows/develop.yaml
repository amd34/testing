name: testing-github-actions_develop
run-name: ${{ github.actor }} is learning GitHub Actions
on:
 workflow_dispatch:
   # Inputs the workflow accepts.
   inputs:
     version:
       description: 'Package version to deployed'
       required: true
       type: choice
       options:
         - IMAGE VERSION
     environment:
       description: 'Target Environment'
       required: true
       type: choice
       options:
         - DEV
         - PROD

jobs:
  file_update:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout on develop
        uses: actions/checkout@v4
        with:
          ref: develop
      - name: Create tag
        env:
          GITHUB_TOKEN: ${{ secrets.PAT_TOKEN }}
        run: |
         $date >> README.md
         ls
         cat README.md
         git commit -m $(date +%s)
         git tag $(date +%s)
         git config user.name github-actions
         git config user.email github-actions@github.com
         git add .
         git commit -m "generated"
      - name: Push tag
        env:
          GITHUB_TOKEN: ${{ secrets.PAT_TOKEN }}
        run: git push origin $(date +%s)
